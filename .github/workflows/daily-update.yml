name: Daily Repository Update

on:
  schedule:
    - cron: '30 2 * * *'
  workflow_dispatch:

jobs:
  update:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository (23f2000595@ds.study.iitm.ac.in)
      uses: actions/checkout@v3
      
    - name: Configure Git (23f2000595@ds.study.iitm.ac.in)
      run: |
        git config --global user.name 'GitHub Actions Bot'
        git config --global user.email '23f2000595@ds.study.iitm.ac.in'
    
    - name: Create daily update (23f2000595@ds.study.iitm.ac.in)
      run: |
        echo "Daily automated update: $(date)" >> daily-log.txt
    
    - name: Commit changes (23f2000595@ds.study.iitm.ac.in)
      run: |
        git add daily-log.txt
        git commit -m "Daily update $(date +%Y-%m-%d)"
        git push
